!function(e){function t(t){for(var o,a,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(l&&l(t);f.length;)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},c=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;c.push([0,"chunk.ant-design-vue","chunk.moment","chunk.vue","chunk.vue3-form-render","vendors-app"]),n()}({0:function(e,t,n){e.exports=n("56d7")},"07be":function(e,t,n){"use strict";n("b481")},"07c2":function(e,t,n){},1942:function(e,t,n){"use strict";n("9b26")},"1d78":function(e,t,n){},4678:function(e,t,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="4678"},5033:function(e,t,n){"use strict";n("a779")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");var r={name:"App",render:function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("router-view");return Object(o.openBlock)(),Object(o.createBlock)(i)}},c=r,a=n("f23d"),i=(n("202f"),{class:"index-wrapper"}),s=Object(o.createVNode)("img",{alt:"example",src:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png"},null,-1),u=Object(o.createTextVNode)(" https://coco-h5.github.io/ "),l=Object(o.createVNode)("div",{class:"fix"},"/index.html",-1);var d=n("5530"),f=n("1da1"),p=(n("96cf"),n("b0c0"),{class:"header"}),b={class:"left"},j={class:"logo"},m=Object(o.createVNode)("div",{class:"logo-container"},null,-1),O=Object(o.createTextVNode)(" 工作台 ");var g=n("6c02"),v={props:{type:String},setup:function(e){var t=Object(g.d)(),n=Object(o.ref)(e.type||"default"),r=function(){if(!e.type){var t=document.documentElement.scrollTop||document.body.scrollTop;n.value=t>30?"white":"default"}};document.addEventListener("scroll",r),Object(o.onBeforeUnmount)((function(){console.log("unmount"),document.removeEventListener("scroll",r)}));return{className:n,handleSelect:function(e){e&&t.push({path:e})}}}};n("c4bc");v.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("router-link"),s=Object(o.resolveComponent)("a-menu-item"),u=Object(o.resolveComponent)("a-menu");return Object(o.openBlock)(),Object(o.createBlock)("div",p,[Object(o.createVNode)("div",{class:["header-menu",r.className]},[Object(o.createVNode)("div",b,[Object(o.renderSlot)(e.$slots,"logo",{},(function(){return[Object(o.createVNode)("div",j,[Object(o.createVNode)(i,{to:"/"},{default:Object(o.withCtx)((function(){return[m]})),_:1})])]})),Object(o.renderSlot)(e.$slots,"pageTitle")]),Object(o.createVNode)(u,{selectable:!1,class:"el-menu-demo",mode:"horizontal",onSelect:t[1]||(t[1]=function(e){return r.handleSelect(e)})},{default:Object(o.withCtx)((function(){return[Object(o.renderSlot)(e.$slots,"menu",{},(function(){return[Object(o.createVNode)(s,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{to:"/dashboard"},{default:Object(o.withCtx)((function(){return[O]})),_:1})]})),_:1})]}))]})),_:3})],2)])};var h=v,C=n("002b"),N=(n("d3b7"),n("bc3a")),y=n.n(N),w=n("f64c"),x=y.a.create({baseURL:"http://admin.coco-h5.cn/api",timeout:1e5,withCredentials:!0});x.interceptors.response.use((function(e){return e}),(function(e){var t,n;return w.a.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.result)||"系统异常，请稍后再试"),Promise.reject(e)}));var k=x,V=function(){return Object(f.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/template/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},S={createProject:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("/project/createProject",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},query:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/project/query",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},save:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("/project/updateConfig",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},release:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("/project/release",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},preview:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.post("/project/preview",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},_=function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/component/query",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},B={setup:function(){var e=Object(o.reactive)({templateList:[],createDialog:!1,pageInfo:{},creating:!1}),t=Object(o.reactive)({projectName:"",gitName:"",host:" https://coco-h5.github.io/"}),n=Object(o.reactive)({projectName:[{required:!0,message:"请输入项目名称"}],gitName:[{required:!0,message:"请输入网站路径"}]});V().then((function(t){var n=t.result;e.templateList=n}));var r=Object(g.d)(),c=Object(C.a)(t,n),a=c.resetFields,i=c.validate,s=c.validateInfos;return Object(d.a)(Object(d.a)(Object(d.a)({},Object(o.toRefs)(e)),Object(o.toRefs)(t)),{},{labelCol:{span:4},wrapperCol:{span:20},initPage:function(t){e.pageInfo=t,e.createDialog=!0},createPage:function(){i().then(Object(f.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.creating=!0,n.prev=1,n.next=4,S.createProject({pageConfig:{config:{templateId:e.pageInfo.id,templateGit:e.pageInfo.gitUrl,templateName:e.pageInfo.name,projectName:t.projectName||"未命名的页面",gitName:t.gitName,templateVersion:e.pageInfo.version},userSelectComponents:[],components:[]}});case 4:o=n.sent,e.creating=!1,r.push({path:"/edit",query:{id:o.result.id}}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),e.creating=!1;case 12:case"end":return n.stop()}}),n,null,[[1,9]])}))))},resetFields:a,validate:i,validateInfos:s})},components:{Header:h}};n("7079");B.render=function(e,t,n,r,c,a){var d=Object(o.resolveComponent)("Header"),f=Object(o.resolveComponent)("a-card-meta"),p=Object(o.resolveComponent)("a-card"),b=Object(o.resolveComponent)("a-spin"),j=Object(o.resolveComponent)("a-input"),m=Object(o.resolveComponent)("a-form-item"),O=Object(o.resolveComponent)("a-select-option"),g=Object(o.resolveComponent)("a-select"),v=Object(o.resolveComponent)("a-input-group"),h=Object(o.resolveComponent)("a-form"),C=Object(o.resolveComponent)("a-modal");return Object(o.openBlock)(),Object(o.createBlock)(o.Fragment,null,[Object(o.createVNode)(b,{spinning:e.creating,tip:"Loading..."},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d),Object(o.createVNode)("div",i,[(Object(o.openBlock)(!0),Object(o.createBlock)(o.Fragment,null,Object(o.renderList)(e.templateList,(function(e){return Object(o.openBlock)(),Object(o.createBlock)(p,{key:e.id,hoverable:"",style:{width:"240px"},onClick:function(){return r.initPage(e)}},{cover:Object(o.withCtx)((function(){return[s]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{title:e.templateName},{description:Object(o.withCtx)((function(){return[Object(o.createVNode)("div",null,"作者："+Object(o.toDisplayString)(e.author),1),Object(o.createVNode)("div",null,"版本："+Object(o.toDisplayString)(e.version),1)]})),_:2},1032,["title"])]})),_:2},1032,["onClick"])})),128))])]})),_:1},8,["spinning"]),Object(o.createVNode)(C,{visible:e.createDialog,"onUpdate:visible":t[4]||(t[4]=function(t){return e.createDialog=t}),title:"请填写页面信息",okText:"确定",cancelText:"取消",width:560,onOk:r.createPage},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(h,{"label-col":r.labelCol,"wrapper-col":r.wrapperCol},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(m,Object(o.mergeProps)({label:"项目名称"},r.validateInfos.projectName),{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(j,{placeholder:"如：营销活动",value:e.projectName,"onUpdate:value":t[1]||(t[1]=function(t){return e.projectName=t})},null,8,["value"])]})),_:1},16),Object(o.createVNode)(m,Object(o.mergeProps)({label:"活动域名"},r.validateInfos.gitName),{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(v,{compact:""},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(g,{value:e.host,"onUpdate:value":t[2]||(t[2]=function(t){return e.host=t})},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(O,{value:"https://coco-h5.github.io/"},{default:Object(o.withCtx)((function(){return[u]})),_:1})]})),_:1},8,["value"]),Object(o.createVNode)(j,{placeholder:"路径",style:{width:"95px"},value:e.gitName,"onUpdate:value":t[3]||(t[3]=function(t){return e.gitName=t})},null,8,["value"]),l]})),_:1})]})),_:1},16)]})),_:1},8,["label-col","wrapper-col"])]})),_:1},8,["visible","onOk"])],64)};var I=B,D={class:"page-title"},R=Object(o.createTextVNode)("撤销 "),T=Object(o.createTextVNode)("前进 "),E=Object(o.createTextVNode)("保存 "),P=Object(o.createTextVNode)("预览 "),z=Object(o.createTextVNode)("发布"),A=Object(o.createVNode)("div",{class:"line"},null,-1),L=Object(o.createTextVNode)(" 工作台 "),U={class:"edit-container"},M={class:"component-container"},F={class:"editor-view"},J={class:"se-page-path-container"},H={class:"se-page-path"},q={class:"se-pp-url"},Y={class:"se-pp-share"},K={class:"main-container"},W={class:"preview-container"},$={class:"sev-tools-copy"},G={class:"sev-tools-copy"};var Q=n("3835"),X=(n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),{class:"select-menu"}),Z=Object(o.createVNode)("h2",{class:"title"},"添加组件",-1),ee={class:"component-preview"},te={class:"left-menu"},ne=Object(o.createTextVNode)(" 模板组件 "),oe=Object(o.createVNode)("span",null,"系统组件",-1),re={class:"list-view"},ce={class:"co-title"};var ae=n("5502"),ie={setup:function(){var e=Object(o.reactive)({active:"components",selectedKeys:["template"],canSelects:[]}),t=Object(ae.c)(),n=t.state.edit,r=t.commit;return Object(d.a)(Object(d.a)({editState:n},Object(o.toRefs)(e)),{},{selectMenu:function(t){var o=t.key,r=t.item;e.selectedKeys[0]=o,e.canSelects="template"!==o?JSON.parse(n.uiConfig.commonComponents[r.index].config):n.pageConfig.components},setDragStart:function(e,t,n){return r("setDragStart",{ev:e,v:t,data:n})}})}};n("5033");ie.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("MailOutlined"),s=Object(o.resolveComponent)("a-menu-item"),u=Object(o.resolveComponent)("AppstoreOutlined"),l=Object(o.resolveComponent)("a-sub-menu"),d=Object(o.resolveComponent)("a-menu"),f=Object(o.resolveComponent)("a-image");return Object(o.openBlock)(),Object(o.createBlock)("div",X,[Z,Object(o.createVNode)("div",ee,[Object(o.createVNode)("div",te,[Object(o.createVNode)(d,{style:{width:"120px"},mode:"inline",selectedKeys:e.selectedKeys,onSelect:r.selectMenu,"default-open-keys":["common"]},{default:Object(o.withCtx)((function(){var e;return[null!==(e=r.editState.pageConfig.components)&&void 0!==e&&e.length?(Object(o.openBlock)(),Object(o.createBlock)(s,{key:"template"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i),ne]})),_:1})):Object(o.createCommentVNode)("",!0),Object(o.createVNode)(l,{key:"common"},{title:Object(o.withCtx)((function(){return[Object(o.createVNode)("span",null,[Object(o.createVNode)(u),oe])]})),default:Object(o.withCtx)((function(){return[(Object(o.openBlock)(!0),Object(o.createBlock)(o.Fragment,null,Object(o.renderList)(r.editState.uiConfig.commonComponents,(function(e){return Object(o.openBlock)(),Object(o.createBlock)(s,{key:e.name},{default:Object(o.withCtx)((function(){return[Object(o.createTextVNode)(Object(o.toDisplayString)(e.description),1)]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["selectedKeys","onSelect"])]),Object(o.createVNode)("div",re,[(Object(o.openBlock)(!0),Object(o.createBlock)(o.Fragment,null,Object(o.renderList)(e.canSelects.length?e.canSelects:r.editState.pageConfig.components,(function(e,n){return Object(o.openBlock)(),Object(o.createBlock)("div",{onDragstart:function(t){return r.setDragStart(t,!0,e)},onDragend:t[1]||(t[1]=function(e){return r.setDragStart(e,!1)}),draggable:"",class:"co-item",key:n},[Object(o.createVNode)(f,{class:"preview-item",src:e.snapshot,fit:"fit"},null,8,["src"]),Object(o.createVNode)("div",ce,Object(o.toDisplayString)(e.description),1)],40,["onDragstart"])})),128))])])])};var se=ie,ue={class:"form-menu"};var le=n("0a75"),de=n.n(le),fe=(n("b4a1"),n("1d78"),{setup:function(){return{editState:Object(ae.c)().state.edit}},components:{FromRender:{props:{currentComponent:Object},setup:function(e){var t,n=Object(ae.c)().commit;return function(){if(!e.currentComponent)return null;var r=e.currentComponent,c=r.component,a=r.currentComponentSchema,i=r.type;return a?(t=c.props,o.createVNode("div",{class:"form-container"},[o.createVNode(de.a,{schema:a.schema,formData:t,onOnChange:function(e){return t=Object(d.a)(Object(d.a)({},e),{},{type:i}),void n("changeProps",t);var t}},null)])):null}}}}});n("f5f5");fe.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("FromRender");return Object(o.openBlock)(),Object(o.createBlock)("div",ue,[Object(o.createVNode)(i,{currentComponent:r.editState.editConfig.currentComponent},null,8,["currentComponent"])])};var pe=fe,be=n("da2a"),je=n("1212"),me=n("cb1e"),Oe=n("a6d1"),ge=n("f014"),ve=n("214f"),he=n("06f3"),Ce=n("e180"),Ne=n("a075"),ye=n("b1c8"),we=n("9af8"),xe=n("8a0b");n("d81d"),n("a630"),n("159b");function ke(e){for(var t=e.offsetTop,n=e.offsetParent;null!==n;)t+=n.offsetTop,n=n.offsetParent;return t}var Ve=function(e){window.frames[0]&&window.frames[0].postMessage(e,"*")},Se={setup:function(){var e=Object(ae.c)(),t=e.state.edit,n=e.dispatch,r=e.commit,c=Object(o.reactive)({data:{},name:"",url:"",showUrl:"",visible:!0,spinning:!0}),a=function(){var e=Object(o.reactive)({toolStyle:{},activeStyle:{},hoverStyle:{},isBottom:!1,isTop:!1,current:0,containerHeight:667,dragableComponents:[]}),t=function(t,n,r){e[r]={height:t,top:"".concat(n,"px")},Object(o.nextTick)((function(){var o=document.getElementById("se-view-tools"),r=parseInt(getComputedStyle(o).height,10);e.toolStyle={top:"".concat(n+10+r>e.containerHeight?n-r+parseInt(t,10):n+10,"px")}}))};return{eventInit:function(n){var o=document.getElementById("frame").contentWindow.document.getElementById("slider-view");o.addEventListener("click",(function(r){for(var c=r.target,a=function(){var r,a=(null===(r=c)||void 0===r?void 0:r.getAttribute("id"))||"";if(a.indexOf("coco-render-id-_component_")>=0){var i=ke(c),s=getComputedStyle(c).height;t(s,i,"activeStyle");var u=Array.from(o.childNodes).map((function(e){return e.getAttribute("id")}));u.forEach((function(t,o){t===a&&(e.isTop=0===o,e.isBottom=o===u.length-1,e.current=o,n(o))}))}c=c.parentNode};"HTML"!==c.tagName;)a()})),o.addEventListener("mouseover",(function(n){for(var r=n.target,c=function(){var n,c=(null===(n=r)||void 0===n?void 0:n.getAttribute("id"))||"";if(c.indexOf("coco-render-id-_component_")>=0)try{var a=ke(r),i=getComputedStyle(r).height;t(i,a,"hoverStyle");var s=Array.from(o.childNodes).map((function(e){return e.getAttribute("id")}));s.forEach((function(t,n){t===c&&(e.isTop=0===n,e.isBottom=n===s.length-1,e.current=n)}))}catch(e){}r=r.parentNode};"HTML"!==r.tagName;)c()}))},init:function(n){var o,r,c=null===(o=document.getElementById("frame"))||void 0===o?void 0:o.contentWindow.document.getElementById("slider-view");if(c){var a=null===(r=document.getElementById("frame"))||void 0===r?void 0:r.contentWindow.document.getElementsByTagName("html")[0],i=Math.ceil(parseFloat(getComputedStyle(a).height)+c.offsetTop);if(e.containerHeight=i>667?i:667,-1!==n){var s=c.childNodes[n],u=(null==s?void 0:s.getAttribute("id"))||"",l=ke(s),d=getComputedStyle(s).height;t(d,l,"activeStyle");var f=Array.from(c.childNodes).map((function(e){return e.getAttribute("id")}));f.forEach((function(t,n){t===u&&(e.isTop=0===n,e.isBottom=n===f.length-1,e.current=n)}))}}},editorState:e,getIndex:function(e){var t,n=null===(t=document.getElementById("frame"))||void 0===t?void 0:t.contentWindow.document.getElementById("slider-view"),o=40,r=0;return Array.from(n.childNodes).some((function(t,n){try{if((o+=parseInt(getComputedStyle(t).height,10))>e)return r=n,!0}catch(e){}return r=n,!1})),r},setFixedStyle:function(t){var n,o=null===(n=document.getElementById("frame"))||void 0===n?void 0:n.contentWindow.document.getElementById("slider-view");e.dragableComponents=[],Array.from((null==o?void 0:o.childNodes)||[]).forEach((function(n){if("fixed"===n.getAttribute("data-layout"))try{var o=n.childNodes[0],r=getComputedStyle(o),c=r.left,a=r.top,i=r.width,s=r.height;e.dragableComponents.push({x:parseInt(c),y:parseInt(a),width:parseInt(i,10),height:parseInt(s,10),index:t})}catch(e){}}))}}}(),i=a.editorState,s=a.eventInit,u=a.init,l=a.getIndex,f=a.setFixedStyle,p=Object(g.c)();Promise.all([S.query({id:p.query.id}),_()]).then((function(e){var t=Object(Q.a)(e,2),o=t[0].result,r=t[1].result;c.data=o[0];var a=o[0].pageConfig;c.name=o[0].name,c.url="http://localhost:8081?isEdit=true",c.showUrl="https://coco-h5.github.io/".concat(c.name,"/index.html"),n("returnConfig",{targetConfig:a,pageData:c.data,releaseStatus:o[0].releaseInfo,commonComponents:r})}));return Object(d.a)(Object(d.a)(Object(d.a)({},Object(o.toRefs)(i)),Object(o.toRefs)(c)),{},{initConfig:function(){s((function(e){c.current=e,Ve({type:"changeIndex",data:c.current})})),Object(o.watch)((function(){return t.editConfig.currentIndex}),(function(){c.visible=!0})),Object(o.watch)([function(){return t.pageConfig.userSelectComponents},function(){return t.editConfig.currentIndex}],(function(){u(t.editConfig.currentIndex),f(t.editConfig.currentIndex)})),c.spinning=!1,Ve({type:"getConfig"}),t.pageConfig.components.length&&Ve({type:"setConfig",data:Object(o.toRaw)(t.pageConfig)}),Ve({type:"changeIndex",data:t.editConfig.currentIndex})},editState:t,changeIndex:function(e){Ve({type:"sortComponent",data:{op:e,index:i.current}})},copyComponent:function(){Ve({type:"copyComponent",data:i.current})},deleteComponent:function(e){Ve({type:"deleteComponent",data:void 0!==e?e:i.current})},dragover_handler:function(e){e.preventDefault()},drop_handler:function(e){e.preventDefault();var t=e.dataTransfer.getData("text/plain"),n=e.layerY,o=l(n);r("addComponent",{data:JSON.parse(t),index:o}),r("setDragStart",{v:!1})},onDrag:function(e,t,n){var o=e.left,c=e.top;Ve({type:"changeIndex",data:t}),r("changeProps",Object(d.a)(Object(d.a)({},n),{},{x:o,y:c}))}})},components:{Form:pe,Header:h,ComponentSelect:se,UndoOutlined:be.a,RedoOutlined:je.a,EyeOutlined:me.a,SaveOutlined:Oe.a,SettingOutlined:ge.a,DoubleRightOutlined:ve.a,DoubleLeftOutlined:he.a,ArrowUpOutlined:Ce.a,CopyOutlined:Ne.a,DeleteOutlined:ye.a,ArrowDownOutlined:we.a,LinkOutlined:xe.a}};n("1942"),n("b09d");Se.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("SettingOutlined"),s=Object(o.resolveComponent)("a-input"),u=Object(o.resolveComponent)("UndoOutlined"),l=Object(o.resolveComponent)("a-menu-item"),d=Object(o.resolveComponent)("RedoOutlined"),f=Object(o.resolveComponent)("SaveOutlined"),p=Object(o.resolveComponent)("EyeOutlined"),b=Object(o.resolveComponent)("a-button"),j=Object(o.resolveComponent)("router-link"),m=Object(o.resolveComponent)("Header"),O=Object(o.resolveComponent)("ComponentSelect"),g=Object(o.resolveComponent)("LinkOutlined"),v=Object(o.resolveComponent)("a-spin"),h=Object(o.resolveComponent)("ArrowUpOutlined"),C=Object(o.resolveComponent)("ArrowDownOutlined"),N=Object(o.resolveComponent)("CopyOutlined"),y=Object(o.resolveComponent)("DeleteOutlined"),w=Object(o.resolveComponent)("Form"),x=Object(o.resolveComponent)("DoubleLeftOutlined"),k=Object(o.resolveComponent)("DoubleRightOutlined"),V=Object(o.resolveComponent)("a-drawer");return Object(o.openBlock)(),Object(o.createBlock)(o.Fragment,null,[Object(o.createVNode)(m,{type:"white",class:"edit-menu"},{pageTitle:Object(o.withCtx)((function(){return[Object(o.createVNode)("div",D,[Object(o.createVNode)(i,{onClick:e.getPageSchema,style:{"margin-right":"10px",cursor:"pointer"}},null,8,["onClick"]),Object(o.createVNode)(s,{class:"title-content",value:r.editState.pageConfig.config.projectName,onInput:e.changeProjectName},null,8,["value","onInput"])])]})),menu:Object(o.withCtx)((function(){return[Object(o.createVNode)(l,{onClick:e.rollback},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(u),R]})),_:1},8,["onClick"]),Object(o.createVNode)(l,{onClick:e.next},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d),T]})),_:1},8,["onClick"]),Object(o.createVNode)(l,{onClick:t[1]||(t[1]=function(){return e.saveConfig()})},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f),E]})),_:1}),Object(o.createVNode)(l,{onClick:t[2]||(t[2]=function(){return e.setPreview(!0,e.store)})},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(p),P]})),_:1}),Object(o.createVNode)(l,{onClick:t[3]||(t[3]=function(){return e.setRelease(!0)})},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(b,{type:"primary"},{default:Object(o.withCtx)((function(){return[z]})),_:1})]})),_:1}),Object(o.createVNode)(l,{class:"dash"},{default:Object(o.withCtx)((function(){return[A]})),_:1}),Object(o.createVNode)(l,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(j,{to:"/dashboard"},{default:Object(o.withCtx)((function(){return[L]})),_:1})]})),_:1})]})),_:1}),Object(o.createVNode)("div",U,[Object(o.createVNode)("div",M,[Object(o.createVNode)(O)]),Object(o.createVNode)("div",F,[Object(o.createVNode)("div",J,[Object(o.createVNode)("div",H,[Object(o.createVNode)("div",q,[Object(o.createVNode)("span",null,Object(o.toDisplayString)(e.showUrl),1)]),Object(o.createVNode)("div",Y,[Object(o.createVNode)(g)])])]),Object(o.createVNode)("div",K,[Object(o.createVNode)("div",W,[Object(o.createVNode)(v,{spinning:e.spinning},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)("iframe",{onLoad:t[4]||(t[4]=function(){return r.initConfig&&r.initConfig.apply(r,arguments)}),id:"frame",frameborder:"0",class:"pre-view",src:e.url,style:{height:e.containerHeight+"px"}},null,44,["src"]),Object(o.withDirectives)(Object(o.createVNode)("div",{onDrop:t[5]||(t[5]=function(){return r.drop_handler&&r.drop_handler.apply(r,arguments)}),onDragover:t[6]||(t[6]=function(){return r.dragover_handler&&r.dragover_handler.apply(r,arguments)}),class:"drag-hover"},null,544),[[o.vShow,r.editState.uiConfig.dragStart]])]})),_:1},8,["spinning"])]),Object(o.createVNode)("div",{style:e.hoverStyle,class:"se-view-hover-tip"},null,4),Object(o.createVNode)("div",{style:e.activeStyle,class:"se-view-active-tip"},null,4),Object(o.withDirectives)(Object(o.createVNode)("div",{style:{top:e.toolStyle.top},class:"se-view-tools",id:"se-view-tools"},[Object(o.createVNode)("div",{class:["sev-tools-move",(e.isTop||e.isBottom)&&"sev-tools-move-single"]},[e.isTop?Object(o.createCommentVNode)("",!0):(Object(o.openBlock)(),Object(o.createBlock)(h,{key:0,onClick:t[7]||(t[7]=function(e){return r.changeIndex(-1)}),class:"fd-iconfont"})),e.isBottom?Object(o.createCommentVNode)("",!0):(Object(o.openBlock)(),Object(o.createBlock)(C,{key:1,onClick:t[8]||(t[8]=function(e){return r.changeIndex(1)}),class:"fd-iconfont"}))],2),Object(o.createVNode)("div",$,[Object(o.createVNode)(N,{onClick:r.copyComponent,class:"fd-iconfont"},null,8,["onClick"])]),Object(o.createVNode)("div",G,[Object(o.createVNode)(y,{onClick:t[9]||(t[9]=function(){return r.deleteComponent()}),class:"fd-iconfont"})])],4),[[o.vShow,e.toolStyle.top]])])]),Object(o.createVNode)("div",{style:{position:"relative",width:e.visible?"350px":""},class:"form-container-main"},[Object(o.createVNode)(V,{mask:!1,placement:"right",closable:!1,visible:e.visible,"get-container":!1,"wrap-style":{position:"absolute"},onClose:t[12]||(t[12]=function(){return e.onClose(!1)}),width:350},{handle:Object(o.withCtx)((function(){return[e.visible?(Object(o.openBlock)(),Object(o.createBlock)(k,{key:1,onClick:t[11]||(t[11]=function(){return e.onClose(!1)}),class:"draw-op"})):(Object(o.openBlock)(),Object(o.createBlock)(x,{key:0,onClick:t[10]||(t[10]=function(){return e.onClose(!0)}),class:"draw-op"}))]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(w)]})),_:1},8,["visible"])],4)])],64)};var _e=Se;n("99af");var Be={class:"user-page-list"},Ie={key:0,class:"empty-list"},De=Object(o.createVNode)("span",null," 暂无页面，快去创建吧 ",-1),Re=Object(o.createTextVNode)("创建页面"),Te={key:1,class:"list"},Ee=Object(o.createTextVNode)("创建页面"),Pe=Object(o.createTextVNode)("编辑"),ze={class:"desc"},Ae=Object(o.createTextVNode)(" 描述： "),Le=Object(o.createTextVNode)("确定"),Ue=Object(o.createTextVNode)(" 更新时间："),Me=Object(o.createTextVNode)(" 创建时间：");var Fe=n("ba98"),Je=n("5a0c"),He=n.n(Je);function qe(){var e=Object(o.ref)(!0),t=function(){var t=Object(f.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.query();case 2:return n=t.sent,o=n.result,e.value=!1,o.forEach((function(e){e.createdAt=He()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"),e.updatedAt=He()(e.updatedAt).format("YYYY-MM-DD HH:mm:ss")})),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{loading:e,loadFn:t}}var Ye={setup:function(){return Object(f.a)(regeneratorRuntime.mark((function e(){var t,n,r,c,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(o.reactive)({list:[],loadingMore:!1,showLoadingMore:!0,visible:null,desc:""}),n=function(){},r=qe(),c=r.loading,a=r.loadFn,e.next=5,a();case 5:return t.list=e.sent,i=function(e){t.desc=e.desc,t.visible=e.id},s=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.desc){e.next=2;break}return e.abrupt("return",w.a.error("请填写描述信息！"));case 2:return e.next=4,S.updateOtherConfig({data:{desc:t.desc},id:n.id});case 4:return e.next=6,a();case 6:t.list=e.sent,t.visible=null,w.a.success("更新成功！");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",Object(d.a)(Object(d.a)({loading:c,cancel:n},Object(o.toRefs)(t)),{},{editDesc:i,saveDesc:s}));case 9:case"end":return e.stop()}}),e)})))()},components:{EditOutlined:Fe.a}};n("07be");Ye.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("router-link"),s=Object(o.resolveComponent)("a-button"),u=Object(o.resolveComponent)("a-empty"),l=Object(o.resolveComponent)("a-input"),d=Object(o.resolveComponent)("a-col"),f=Object(o.resolveComponent)("a-row"),p=Object(o.resolveComponent)("a-input-group"),b=Object(o.resolveComponent)("EditOutlined"),j=Object(o.resolveComponent)("a-popover"),m=Object(o.resolveComponent)("a-list-item-meta"),O=Object(o.resolveComponent)("a-list-item"),g=Object(o.resolveComponent)("a-list");return Object(o.openBlock)(),Object(o.createBlock)("div",Be,[e.list.length?(Object(o.openBlock)(),Object(o.createBlock)("div",Te,[Object(o.createVNode)(s,{class:"top"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{to:"/create"},{default:Object(o.withCtx)((function(){return[Ee]})),_:1})]})),_:1}),Object(o.createVNode)(g,{class:"demo-loadmore-list",loading:r.loading,"item-layout":"horizontal","data-source":e.list},{renderItem:Object(o.withCtx)((function(n){var c=n.item;return[Object(o.createVNode)(O,null,{actions:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{to:"/edit?id=".concat(c.id,"&pageId=").concat(c.gitConfig.id)},{default:Object(o.withCtx)((function(){return[Pe]})),_:2},1032,["to"])]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(m,null,{description:Object(o.withCtx)((function(){return[Object(o.createVNode)("div",ze,[Object(o.createVNode)("div",null,[Ae,Object(o.createVNode)("span",null,Object(o.toDisplayString)(c.desc),1),Object(o.createVNode)(j,{onVisibleChange:t[2]||(t[2]=function(t){!t&&(e.visible=null)}),visible:e.visible===c.id,trigger:"click"},{content:Object(o.withCtx)((function(){return[Object(o.createVNode)(p,{size:"large"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(f,{gutter:8},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(d,{span:18},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(l,{value:e.desc,"onUpdate:value":t[1]||(t[1]=function(t){return e.desc=t}),style:{height:"32px"}},null,8,["value"])]})),_:1}),Object(o.createVNode)(d,{span:5},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(s,{type:"primary",onClick:function(){return r.saveDesc(c)}},{default:Object(o.withCtx)((function(){return[Le]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(b,{onClick:function(){return r.editDesc(c)},style:{cursor:"pointer"}},null,8,["onClick"])]})),_:2},1032,["visible"])]),Object(o.createVNode)("div",null,[Ue,Object(o.createVNode)("span",null,Object(o.toDisplayString)(c.updatedAt),1)]),Object(o.createVNode)("div",null,[Me,Object(o.createVNode)("span",null,Object(o.toDisplayString)(c.createdAt),1)])])]})),title:Object(o.withCtx)((function(){return[Object(o.createTextVNode)(Object(o.toDisplayString)(c.pageConfig.config.projectName),1)]})),_:2},1024)]})),_:2},1024)]})),_:1},8,["loading","data-source"])])):(Object(o.openBlock)(),Object(o.createBlock)("div",Ie,[Object(o.createVNode)(u,null,{description:Object(o.withCtx)((function(){return[De]})),default:Object(o.withCtx)((function(){return[Object(o.createVNode)(s,{type:"primary"},{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(i,{to:"/create"},{default:Object(o.withCtx)((function(){return[Re]})),_:1})]})),_:1})]})),_:1})]))])};var Ke={setup:function(){var e=Object(o.reactive)({value:""});return Object(d.a)(Object(d.a)({},Object(o.toRefs)(e)),{},{onSearch:function(){}})},components:{Header:h,List:Ye}};n("f59e");Ke.render=function(e,t,n,r,c,a){var i=Object(o.resolveComponent)("Header"),s=Object(o.resolveComponent)("List"),u=Object(o.resolveComponent)("a-spin");return Object(o.openBlock)(),Object(o.createBlock)("div",null,[Object(o.createVNode)(i,{type:"white",class:"edit-menu"}),(Object(o.openBlock)(),Object(o.createBlock)(o.Suspense,null,{default:Object(o.withCtx)((function(){return[Object(o.createVNode)(s)]})),fallback:Object(o.withCtx)((function(){return[Object(o.createVNode)(u)]})),_:1}))])};var We=[{path:"/",component:I},{path:"/edit",component:_e},{path:"/dashboard",component:Ke},{path:"/:pathMatch(.*)*",component:I}],$e=Object(g.a)({routes:We,history:Object(g.b)()}),Ge={namespace:!0,state:{userInfo:{}},actions:{getUserInfo:function(e){return Object(f.a)(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,(void 0).getUserInfo();case 3:o=t.sent,n("updateUserInfo",o.result);case 5:case"end":return t.stop()}}),t)})))()}},mutations:{updateUserInfo:function(e,t){e.userInfo=t}}},Qe=(n("4de4"),function(e){return JSON.parse(JSON.stringify(e))});var Xe,Ze,et,tt,nt=function(e){window.frames[0]&&window.frames[0].postMessage(e,"*")},ot={currentCache:{},maxLength:10,length:0,endNode:null,init:function(){ot.currentCache={},ot.length=0},save:function(e){var t=Qe(e);if(ot.length+=1,ot.length>20&&(ot.endNode=ot.endNode.next,ot.endNode.pre=null),!this.currentCache.value)return ot.endNode={value:t,next:null,pre:null},void(this.currentCache=ot.endNode);if(this.currentCache.value){var n={value:t,next:null,pre:null};this.currentCache.next=n,n.pre=this.currentCache,this.currentCache=n}},undo:function(){if(this.currentCache.pre){var e=this.currentCache.pre.value;return this.currentCache=this.currentCache.pre,e}},redo:function(){if(this.currentCache.next){var e=Qe(this.currentCache.next.value);return this.currentCache=this.currentCache.next,e}}};ot.save=(Xe=ot.save,Ze=200,tt=null,function(){var e=et||this,t=arguments;clearTimeout(tt),tt=setTimeout((function(){Xe.apply(e,t)}),Ze)});var rt={namespace:!0,state:JSON.parse(JSON.stringify({pageConfig:{userSelectComponents:[],components:[],config:{},page:{}},editConfig:{componentConfig:{},currentIndex:null,currentComponent:null},uiConfig:{commonComponents:[],showEdit:!0,releaseStatus:"",showRelease:!1,pageData:{},dragStart:!1},defaultConfig:null,isSave:!0})),actions:{returnConfig:function(e,t){var n,o,r=e.commit,c=e.state,a=t.targetConfig,i=t.pageData,s=t.releaseStatus,u=t.commonComponents,l=t.save,f=void 0===l||l;c.defaultConfig||s||r("initDefaultConfig",JSON.parse(JSON.stringify(a))),s||JSON.stringify(a.userSelectComponents)===JSON.stringify(c.pageConfig.userSelectComponents)&&JSON.stringify(a.page)===JSON.stringify(c.pageConfig.page)||r("updateUiConfig",{releaseStatus:{qatest:[0,0,0],"pre-release":[0,0,0],master:[0,0,0]}}),a.page=a.page||{schema:{},props:{}},r("updatePageConfig",Object(d.a)({},(n=c.defaultConfig,o=a,console.log(n,o),n.components&&n.components.length?{userSelectComponents:o.userSelectComponents.map((function(e){var t=n.components.filter((function(t){return t.name===e.name}))[0];return t?Object(d.a)(Object(d.a)({},e),{},{props:Object(d.a)(Object(d.a)({},t.data||{}),e.props),schema:t.schema}):e})),components:o.components.map((function(e){var t=n.components.filter((function(t){return t.name===e.name}))[0];return t?Object(d.a)(Object(d.a)({},e),{},{props:Object(d.a)(Object(d.a)({},t.data||{}),e.props),schema:t.schema}):e})),page:Object(d.a)(Object(d.a)({},o.page),{},{props:Object(d.a)(Object(d.a)({},n.page.props),o.page.props),schema:n.page.schema})}:o)));var p=a.currentIndex||0;if(-1===p)r("updateEditConfig",{currentComponent:{currentComponentSchema:c.pageConfig.page,component:c.pageConfig.page,type:"__page"}});else{var b=c.pageConfig.userSelectComponents[p],j=c.pageConfig.components.filter((function(e){return e.name===b.name}))[0];b&&"coco-components-loader"===b.name&&(j=c.pageConfig.remoteComponents.filter((function(e){return"".concat(e.name,".").concat(e.version)===b.config.name}))[0]),r("updateEditConfig",{currentComponent:{currentComponentSchema:j,component:b}})}f&&null!==c.currentIndex&&ot.save(Object(d.a)({},c.pageConfig)),r("updateUiConfig",{pageData:i||c.uiConfig.pageData,releaseStatus:s||c.uiConfig.releaseStatus,commonComponents:u||c.uiConfig.commonComponents}),r("updateEditConfig",{currentIndex:p})},reset:function(e,t){(0,e.dispatch)("returnConfig",{targetConfig:t,save:!1}),nt({type:"reset",data:t})}},mutations:{initConfig:function(e){e.pageConfig={userSelectComponents:[],components:[],config:{},page:{}},e.editConfig={componentConfig:{},currentIndex:null,currentComponent:null},e.uiConfig={commonComponents:[],showEdit:!0,releaseStatus:"",showRelease:!1,pageData:{},dragStart:!1},ot.init()},setIsSave:function(e,t){e.isSave=t},initDefaultConfig:function(e,t){e.defaultConfig=t},commonUpdate:function(e,t){e=Object(d.a)(Object(d.a)({},e),t)},updatePageConfig:function(e,t){e.pageConfig=Object(d.a)(Object(d.a)({},e.pageConfig),t)},updateEditConfig:function(e,t){e.editConfig=Object(d.a)(Object(d.a)({},e.editConfig),t)},updateUiConfig:function(e,t){e.uiConfig=Object(d.a)(Object(d.a)({},e.uiConfig),t)},setRelease:function(e,t){e.uiConfig.showRelease=t},addComponent:function(e,t){var n=t.data,o=t.index;nt({type:"addComponent",data:JSON.parse(JSON.stringify({data:n,index:o}))})},changeProps:function(e,t){nt({type:"changeProps",data:t})},setEdit:function(e,t){e.uiConfig.showEdit=t},setReleaseInfo:function(e,t){e.uiConfig.releaseStatus=t},setDragStart:function(e,t){var n=t.ev,o=t.v,r=t.data;e.uiConfig.dragStart=o,r&&n.dataTransfer.setData("text/plain",JSON.stringify(r))},changeProjectName:function(e,t){e.pageConfig.config.projectName=t.target.value,e.uiConfig.releaseStatus={qatest:[0,0,0],"pre-release":[0,0,0],master:[0,0,0]}}}},ct=Object(ae.b)({modules:{index:Ge,edit:rt},strict:!1,plugins:[]});window.addEventListener("message",(function(e){if(e.source!==window&&"loaded"!==e.data)return"returnConfig"===e.data.type?ct.dispatch(e.data.type,{targetConfig:e.data.data}):ct.commit(e.data.type,e.data.data)}));var at=ct,it=n("8f0d"),st=n("5f89"),ut=n("47ce"),lt=n("5ede"),dt=n("127d");document.domain="coco-h5.cn";var ft=Object(o.createApp)(c);ft.use($e),ft.use(a.a),ft.use(at),ft.component("FileImageOutlined",it.a),ft.component("UploadOutlined",st.a),ft.component("PlusOutlined",ut.a),ft.component("BarsOutlined",lt.a),ft.component("DeleteOutlined",ye.a),ft.component("DragOutlined",dt.a),ft.mount("#app")},7079:function(e,t,n){"use strict";n("c4eb")},"90c0":function(e,t,n){},"9b26":function(e,t,n){},"9c77":function(e,t,n){},a779:function(e,t,n){},b09d:function(e,t,n){"use strict";n("f9cc")},b481:function(e,t,n){},c4bc:function(e,t,n){"use strict";n("90c0")},c4eb:function(e,t,n){},f59e:function(e,t,n){"use strict";n("07c2")},f5f5:function(e,t,n){"use strict";n("9c77")},f9cc:function(e,t,n){}});
//# sourceMappingURL=app.41c99f43.js.map