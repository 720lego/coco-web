(function(e){function t(t){for(var r,a,i=t[0],s=t[1],u=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07be":function(e,t,n){"use strict";n("b481")},"07c2":function(e,t,n){},1942:function(e,t,n){"use strict";n("9b26")},"1d78":function(e,t,n){},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=c,e.exports=o,o.id="4678"},5033:function(e,t,n){"use strict";n("a779")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createBlock"])(i)}var c={name:"App"};c.render=o;var a=c,i=n("f23d"),s=(n("202f"),{class:"index-wrapper"}),u=Object(r["createVNode"])("img",{alt:"example",src:"https://os.alipayobjects.com/rmsportal/QBnOOoLaAfKPirc.png"},null,-1),l=Object(r["createTextVNode"])(" https://coco-h5.github.io/ "),d=Object(r["createVNode"])("div",{class:"fix"},"/index.html",-1);function p(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("Header"),p=Object(r["resolveComponent"])("a-card-meta"),f=Object(r["resolveComponent"])("a-card"),b=Object(r["resolveComponent"])("a-spin"),j=Object(r["resolveComponent"])("a-input"),m=Object(r["resolveComponent"])("a-form-item"),O=Object(r["resolveComponent"])("a-select-option"),g=Object(r["resolveComponent"])("a-select"),v=Object(r["resolveComponent"])("a-input-group"),h=Object(r["resolveComponent"])("a-form"),C=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(b,{spinning:e.creating,tip:"Loading..."},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i),Object(r["createVNode"])("div",s,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.templateList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:e.id,hoverable:"",style:{width:"240px"},onClick:function(){return o.initPage(e)}},{cover:Object(r["withCtx"])((function(){return[u]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{title:e.templateName},{description:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",null,"作者："+Object(r["toDisplayString"])(e.author),1),Object(r["createVNode"])("div",null,"版本："+Object(r["toDisplayString"])(e.version),1)]})),_:2},1032,["title"])]})),_:2},1032,["onClick"])})),128))])]})),_:1},8,["spinning"]),Object(r["createVNode"])(C,{visible:e.createDialog,"onUpdate:visible":t[4]||(t[4]=function(t){return e.createDialog=t}),title:"请填写页面信息",okText:"确定",cancelText:"取消",width:560,onOk:o.createPage},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{"label-col":o.labelCol,"wrapper-col":o.wrapperCol},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,Object(r["mergeProps"])({label:"项目名称"},o.validateInfos.projectName),{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{placeholder:"如：营销活动",value:e.projectName,"onUpdate:value":t[1]||(t[1]=function(t){return e.projectName=t})},null,8,["value"])]})),_:1},16),Object(r["createVNode"])(m,Object(r["mergeProps"])({label:"活动域名"},o.validateInfos.gitName),{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{compact:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{value:e.host,"onUpdate:value":t[2]||(t[2]=function(t){return e.host=t})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{value:"https://coco-h5.github.io/"},{default:Object(r["withCtx"])((function(){return[l]})),_:1})]})),_:1},8,["value"]),Object(r["createVNode"])(j,{placeholder:"路径",style:{width:"95px"},value:e.gitName,"onUpdate:value":t[3]||(t[3]=function(t){return e.gitName=t})},null,8,["value"]),d]})),_:1})]})),_:1},16)]})),_:1},8,["label-col","wrapper-col"])]})),_:1},8,["visible","onOk"])],64)}var f=n("5530"),b=n("1da1"),j=(n("96cf"),n("b0c0"),{class:"header"}),m={class:"left"},O={class:"logo"},g=Object(r["createVNode"])("div",{class:"logo-container"},null,-1),v=Object(r["createTextVNode"])(" 工作台 ");function h(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("router-link"),s=Object(r["resolveComponent"])("a-menu-item"),u=Object(r["resolveComponent"])("a-menu");return Object(r["openBlock"])(),Object(r["createBlock"])("div",j,[Object(r["createVNode"])("div",{class:["header-menu",o.className]},[Object(r["createVNode"])("div",m,[Object(r["renderSlot"])(e.$slots,"logo",{},(function(){return[Object(r["createVNode"])("div",O,[Object(r["createVNode"])(i,{to:"/"},{default:Object(r["withCtx"])((function(){return[g]})),_:1})])]})),Object(r["renderSlot"])(e.$slots,"pageTitle")]),Object(r["createVNode"])(u,{selectable:!1,class:"el-menu-demo",mode:"horizontal",onSelect:t[1]||(t[1]=function(e){return o.handleSelect(e)})},{default:Object(r["withCtx"])((function(){return[Object(r["renderSlot"])(e.$slots,"menu",{},(function(){return[Object(r["createVNode"])(s,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{to:"/dashboard"},{default:Object(r["withCtx"])((function(){return[v]})),_:1})]})),_:1})]}))]})),_:3})],2)])}var C=n("6c02"),w={props:{type:String},setup:function(e){var t=Object(C["d"])(),n=Object(r["ref"])(e.type||"default"),o=function(){if(!e.type){var t=document.documentElement.scrollTop||document.body.scrollTop;n.value=t>30?"white":"default"}};document.addEventListener("scroll",o),Object(r["onBeforeUnmount"])((function(){console.log("unmount"),document.removeEventListener("scroll",o)}));var c=function(e){e&&t.push({path:e})};return{className:n,handleSelect:c}}};n("c4bc");w.render=h;var N=w,y=n("002b"),x=(n("d3b7"),n("bc3a")),k=n.n(x),V={development:"http://localhost:7001",test:"",production:"http://118.195.176.247/api"},S=n("f64c"),_=k.a.create({baseURL:V["production"],timeout:1e5,withCredentials:!0});_.interceptors.response.use((function(e){return e}),(function(e){var t,n;return S["a"].error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.result)||"系统异常，请稍后再试"),Promise.reject(e)}));var B=_,I={queryAll:function(){return Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B.get("/template/list");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},queryInfo:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.get("/template/detail",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},D={createProject:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.post("/project/createProject",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},query:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.get("/project/query",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},save:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.post("/project/updateConfig",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},release:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.post("/project/release",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},preview:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.post("/project/preview",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},R={query:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,B.get("/component/query",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},T={setup:function(){var e=Object(r["reactive"])({templateList:[],createDialog:!1,pageInfo:{},creating:!1}),t=Object(r["reactive"])({projectName:"",gitName:"",host:" https://coco-h5.github.io/"}),n=Object(r["reactive"])({projectName:[{required:!0,message:"请输入项目名称"}],gitName:[{required:!0,message:"请输入网站路径"}]});I.queryAll().then((function(t){var n=t.result;e.templateList=n}));var o=function(t){e.pageInfo=t,e.createDialog=!0},c=Object(C["d"])(),a=function(){u().then(Object(b["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.creating=!0,n.prev=1,n.next=4,D.createProject({pageConfig:{config:{templateId:e.pageInfo.id,templateGit:e.pageInfo.gitUrl,templateName:e.pageInfo.name,projectName:t.projectName||"未命名的页面",gitName:t.gitName,templateVersion:e.pageInfo.version},userSelectComponents:[],components:[]}});case 4:r=n.sent,e.creating=!1,c.push({path:"/edit",query:{id:r.result.id}}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),e.creating=!1;case 12:case"end":return n.stop()}}),n,null,[[1,9]])}))))},i=Object(y["a"])(t,n),s=i.resetFields,u=i.validate,l=i.validateInfos;return Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(r["toRefs"])(e)),Object(r["toRefs"])(t)),{},{labelCol:{span:4},wrapperCol:{span:20},initPage:o,createPage:a,resetFields:s,validate:u,validateInfos:l})},components:{Header:N}};n("7079");T.render=p;var E=T,P={class:"page-title"},A=Object(r["createTextVNode"])("撤销 "),z=Object(r["createTextVNode"])("前进 "),L=Object(r["createTextVNode"])("保存 "),U=Object(r["createTextVNode"])("预览 "),M=Object(r["createTextVNode"])("发布"),q=Object(r["createVNode"])("div",{class:"line"},null,-1),F=Object(r["createTextVNode"])(" 工作台 "),J={class:"edit-container"},H={class:"component-container"},Y={class:"editor-view"},K={class:"se-page-path-container"},W={class:"se-page-path"},$={class:"se-pp-url"},G={class:"se-pp-share"},Q={class:"main-container"},X={class:"preview-container"},Z={class:"sev-tools-copy"},ee={class:"sev-tools-copy"};function te(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("SettingOutlined"),s=Object(r["resolveComponent"])("a-input"),u=Object(r["resolveComponent"])("UndoOutlined"),l=Object(r["resolveComponent"])("a-menu-item"),d=Object(r["resolveComponent"])("RedoOutlined"),p=Object(r["resolveComponent"])("SaveOutlined"),f=Object(r["resolveComponent"])("EyeOutlined"),b=Object(r["resolveComponent"])("a-button"),j=Object(r["resolveComponent"])("router-link"),m=Object(r["resolveComponent"])("Header"),O=Object(r["resolveComponent"])("ComponentSelect"),g=Object(r["resolveComponent"])("LinkOutlined"),v=Object(r["resolveComponent"])("a-spin"),h=Object(r["resolveComponent"])("ArrowUpOutlined"),C=Object(r["resolveComponent"])("ArrowDownOutlined"),w=Object(r["resolveComponent"])("CopyOutlined"),N=Object(r["resolveComponent"])("DeleteOutlined"),y=Object(r["resolveComponent"])("Form"),x=Object(r["resolveComponent"])("DoubleLeftOutlined"),k=Object(r["resolveComponent"])("DoubleRightOutlined"),V=Object(r["resolveComponent"])("a-drawer");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(m,{type:"white",class:"edit-menu"},{pageTitle:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",P,[Object(r["createVNode"])(i,{onClick:e.getPageSchema,style:{"margin-right":"10px",cursor:"pointer"}},null,8,["onClick"]),Object(r["createVNode"])(s,{class:"title-content",value:o.editState.pageConfig.config.projectName,onInput:e.changeProjectName},null,8,["value","onInput"])])]})),menu:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{onClick:e.rollback},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u),A]})),_:1},8,["onClick"]),Object(r["createVNode"])(l,{onClick:e.next},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d),z]})),_:1},8,["onClick"]),Object(r["createVNode"])(l,{onClick:t[1]||(t[1]=function(){return e.saveConfig()})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p),L]})),_:1}),Object(r["createVNode"])(l,{onClick:t[2]||(t[2]=function(){return e.setPreview(!0,e.store)})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f),U]})),_:1}),Object(r["createVNode"])(l,{onClick:t[3]||(t[3]=function(){return e.setRelease(!0)})},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{type:"primary"},{default:Object(r["withCtx"])((function(){return[M]})),_:1})]})),_:1}),Object(r["createVNode"])(l,{class:"dash"},{default:Object(r["withCtx"])((function(){return[q]})),_:1}),Object(r["createVNode"])(l,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{to:"/dashboard"},{default:Object(r["withCtx"])((function(){return[F]})),_:1})]})),_:1})]})),_:1}),Object(r["createVNode"])("div",J,[Object(r["createVNode"])("div",H,[Object(r["createVNode"])(O)]),Object(r["createVNode"])("div",Y,[Object(r["createVNode"])("div",K,[Object(r["createVNode"])("div",W,[Object(r["createVNode"])("div",$,[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(e.showUrl),1)]),Object(r["createVNode"])("div",G,[Object(r["createVNode"])(g)])])]),Object(r["createVNode"])("div",Q,[Object(r["createVNode"])("div",X,[Object(r["createVNode"])(v,{spinning:e.spinning},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("iframe",{onLoad:t[4]||(t[4]=function(){return o.initConfig&&o.initConfig.apply(o,arguments)}),id:"frame",frameborder:"0",class:"pre-view",src:e.url,style:{height:e.containerHeight+"px"}},null,44,["src"]),Object(r["withDirectives"])(Object(r["createVNode"])("div",{onDrop:t[5]||(t[5]=function(){return o.drop_handler&&o.drop_handler.apply(o,arguments)}),onDragover:t[6]||(t[6]=function(){return o.dragover_handler&&o.dragover_handler.apply(o,arguments)}),class:"drag-hover"},null,544),[[r["vShow"],o.editState.uiConfig.dragStart]])]})),_:1},8,["spinning"])]),Object(r["createVNode"])("div",{style:e.hoverStyle,class:"se-view-hover-tip"},null,4),Object(r["createVNode"])("div",{style:e.activeStyle,class:"se-view-active-tip"},null,4),Object(r["withDirectives"])(Object(r["createVNode"])("div",{style:{top:e.toolStyle.top},class:"se-view-tools",id:"se-view-tools"},[Object(r["createVNode"])("div",{class:["sev-tools-move",(e.isTop||e.isBottom)&&"sev-tools-move-single"]},[e.isTop?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:0,onClick:t[7]||(t[7]=function(e){return o.changeIndex(-1)}),class:"fd-iconfont"})),e.isBottom?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(C,{key:1,onClick:t[8]||(t[8]=function(e){return o.changeIndex(1)}),class:"fd-iconfont"}))],2),Object(r["createVNode"])("div",Z,[Object(r["createVNode"])(w,{onClick:o.copyComponent,class:"fd-iconfont"},null,8,["onClick"])]),Object(r["createVNode"])("div",ee,[Object(r["createVNode"])(N,{onClick:t[9]||(t[9]=function(){return o.deleteComponent()}),class:"fd-iconfont"})])],4),[[r["vShow"],e.toolStyle.top]])])]),Object(r["createVNode"])("div",{style:{position:"relative",width:e.visible?"350px":""},class:"form-container-main"},[Object(r["createVNode"])(V,{mask:!1,placement:"right",closable:!1,visible:e.visible,"get-container":!1,"wrap-style":{position:"absolute"},onClose:t[12]||(t[12]=function(){return e.onClose(!1)}),width:350},{handle:Object(r["withCtx"])((function(){return[e.visible?(Object(r["openBlock"])(),Object(r["createBlock"])(k,{key:1,onClick:t[11]||(t[11]=function(){return e.onClose(!1)}),class:"draw-op"})):(Object(r["openBlock"])(),Object(r["createBlock"])(x,{key:0,onClick:t[10]||(t[10]=function(){return e.onClose(!0)}),class:"draw-op"}))]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y)]})),_:1},8,["visible"])],4)])],64)}var ne=n("3835"),re=(n("3ca3"),n("ddb0"),n("a4d3"),n("e01a"),{class:"select-menu"}),oe=Object(r["createVNode"])("h2",{class:"title"},"添加组件",-1),ce={class:"component-preview"},ae={class:"left-menu"},ie=Object(r["createTextVNode"])(" 模板组件 "),se=Object(r["createVNode"])("span",null,"系统组件",-1),ue={class:"list-view"},le={class:"co-title"};function de(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("MailOutlined"),s=Object(r["resolveComponent"])("a-menu-item"),u=Object(r["resolveComponent"])("AppstoreOutlined"),l=Object(r["resolveComponent"])("a-sub-menu"),d=Object(r["resolveComponent"])("a-menu"),p=Object(r["resolveComponent"])("a-image");return Object(r["openBlock"])(),Object(r["createBlock"])("div",re,[oe,Object(r["createVNode"])("div",ce,[Object(r["createVNode"])("div",ae,[Object(r["createVNode"])(d,{style:{width:"120px"},mode:"inline",selectedKeys:e.selectedKeys,onSelect:o.selectMenu,"default-open-keys":["common"]},{default:Object(r["withCtx"])((function(){var e;return[null!==(e=o.editState.pageConfig.components)&&void 0!==e&&e.length?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:"template"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i),ie]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(l,{key:"common"},{title:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("span",null,[Object(r["createVNode"])(u),se])]})),default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(o.editState.uiConfig.commonComponents,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:e.name},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.description),1)]})),_:2},1024)})),128))]})),_:1})]})),_:1},8,["selectedKeys","onSelect"])]),Object(r["createVNode"])("div",ue,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.canSelects.length?e.canSelects:o.editState.pageConfig.components,(function(e,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{onDragstart:function(t){return o.setDragStart(t,!0,e)},onDragend:t[1]||(t[1]=function(e){return o.setDragStart(e,!1)}),draggable:"",class:"co-item",key:n},[Object(r["createVNode"])(p,{class:"preview-item",src:e.snapshot,fit:"fit"},null,8,["src"]),Object(r["createVNode"])("div",le,Object(r["toDisplayString"])(e.description),1)],40,["onDragstart"])})),128))])])])}var pe=n("5502"),fe={setup:function(){var e=Object(r["reactive"])({active:"components",selectedKeys:["template"],canSelects:[]}),t=Object(pe["c"])(),n=t.state.edit,o=t.commit,c=function(t){var r=t.key,o=t.item;e.selectedKeys[0]=r,e.canSelects="template"!==r?JSON.parse(n.uiConfig.commonComponents[o.index].config):n.pageConfig.components};return Object(f["a"])(Object(f["a"])({editState:n},Object(r["toRefs"])(e)),{},{selectMenu:c,setDragStart:function(e,t,n){return o("setDragStart",{ev:e,v:t,data:n})}})}};n("5033");fe.render=de;var be=fe,je={class:"form-menu"};function me(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("FromRender");return Object(r["openBlock"])(),Object(r["createBlock"])("div",je,[Object(r["createVNode"])(i,{currentComponent:o.editState.editConfig.currentComponent},null,8,["currentComponent"])])}var Oe=n("0a75"),ge=n.n(Oe),ve=(n("b4a1"),n("1d78"),{props:{currentComponent:Object},setup:function(e){var t,n=Object(pe["c"])(),o=n.commit,c=function(e){o("changeProps",e)};return function(){if(!e.currentComponent)return null;var n=e.currentComponent,o=n.component,a=n.currentComponentSchema,i=n.type;return a?(t=o.props,r["createVNode"]("div",{class:"form-container"},[r["createVNode"](ge.a,{schema:a.schema,formData:t,onOnChange:function(e){return c(Object(f["a"])(Object(f["a"])({},e),{},{type:i}))}},null)])):null}}}),he={setup:function(){var e=Object(pe["c"])(),t=e.state.edit;return{editState:t}},components:{FromRender:ve}};n("f5f5");he.render=me;var Ce=he,we=n("da2a"),Ne=n("1212"),ye=n("cb1e"),xe=n("a6d1"),ke=n("f014"),Ve=n("214f"),Se=n("06f3"),_e=n("e180"),Be=n("a075"),Ie=n("b1c8"),De=n("9af8"),Re=n("8a0b");n("d81d"),n("a630"),n("159b");function Te(e){var t=e.offsetTop,n=e.offsetParent;while(null!==n)t+=n.offsetTop,n=n.offsetParent;return t}function Ee(){var e=Object(r["reactive"])({toolStyle:{},activeStyle:{},hoverStyle:{},isBottom:!1,isTop:!1,current:0,containerHeight:667,dragableComponents:[]}),t=function(t,n,o){e[o]={height:t,top:"".concat(n,"px")},Object(r["nextTick"])((function(){var r=document.getElementById("se-view-tools"),o=parseInt(getComputedStyle(r).height,10);e.toolStyle={top:"".concat(n+10+o>e.containerHeight?n-o+parseInt(t,10):n+10,"px")}}))},n=function(n){var r=document.getElementById("frame").contentWindow.document.getElementById("slider-view");r.addEventListener("click",(function(o){var c=o.target,a=function(){var o,a=(null===(o=c)||void 0===o?void 0:o.getAttribute("id"))||"";if(a.indexOf("coco-render-id-_component_")>=0){var i=Te(c),s=getComputedStyle(c),u=s.height;t(u,i,"activeStyle");var l=Array.from(r.childNodes).map((function(e){return e.getAttribute("id")}));l.forEach((function(t,r){t===a&&(e.isTop=0===r,e.isBottom=r===l.length-1,e.current=r,n(r))}))}c=c.parentNode};while("HTML"!==c.tagName)a()})),r.addEventListener("mouseover",(function(n){var o=n.target,c=function(){var c,a=(null===(c=o)||void 0===c?void 0:c.getAttribute("id"))||"";if(a.indexOf("coco-render-id-_component_")>=0)try{var i=Te(o),s=getComputedStyle(o),u=s.height;t(u,i,"hoverStyle");var l=Array.from(r.childNodes).map((function(e){return e.getAttribute("id")}));l.forEach((function(t,n){t===a&&(e.isTop=0===n,e.isBottom=n===l.length-1,e.current=n)}))}catch(n){}o=o.parentNode};while("HTML"!==o.tagName)c()}))},o=function(n){var r,o,c=null===(r=document.getElementById("frame"))||void 0===r?void 0:r.contentWindow.document.getElementById("slider-view");if(c){var a=null===(o=document.getElementById("frame"))||void 0===o?void 0:o.contentWindow.document.getElementsByTagName("html")[0],i=Math.ceil(parseFloat(getComputedStyle(a).height)+c.offsetTop);if(e.containerHeight=i>667?i:667,-1!==n){var s=c.childNodes[n],u=(null===s||void 0===s?void 0:s.getAttribute("id"))||"",l=Te(s),d=getComputedStyle(s),p=d.height;t(p,l,"activeStyle");var f=Array.from(c.childNodes).map((function(e){return e.getAttribute("id")}));f.forEach((function(t,n){t===u&&(e.isTop=0===n,e.isBottom=n===f.length-1,e.current=n)}))}}},c=function(e){var t,n=null===(t=document.getElementById("frame"))||void 0===t?void 0:t.contentWindow.document.getElementById("slider-view"),r=40,o=0;return Array.from(n.childNodes).some((function(t,n){try{if(r+=parseInt(getComputedStyle(t).height,10),r>e)return o=n,!0}catch(c){}return o=n,!1})),o},a=function(t){var n,r=null===(n=document.getElementById("frame"))||void 0===n?void 0:n.contentWindow.document.getElementById("slider-view");e.dragableComponents=[],Array.from((null===r||void 0===r?void 0:r.childNodes)||[]).forEach((function(n){if("fixed"===n.getAttribute("data-layout"))try{var r=n.childNodes[0],o=getComputedStyle(r),c=o.left,a=o.top,i=o.width,s=o.height;e.dragableComponents.push({x:parseInt(c),y:parseInt(a),width:parseInt(i,10),height:parseInt(s,10),index:t})}catch(u){}}))};return{eventInit:n,init:o,editorState:e,getIndex:c,setFixedStyle:a}}var Pe=function(e){window.frames[0]&&window.frames[0].postMessage(e,"*")},Ae={setup:function(){var e=Object(pe["c"])(),t=e.state.edit,n=e.dispatch,o=e.commit,c=Object(r["reactive"])({data:{},name:"",url:"",showUrl:"",visible:!0,spinning:!0}),a=Ee(),i=a.editorState,s=a.eventInit,u=a.init,l=a.getIndex,d=a.setFixedStyle,p=Object(C["c"])();Promise.all([D.query({id:p.query.id}),R.query()]).then((function(e){var t=Object(ne["a"])(e,2),r=t[0].result,o=t[1].result;c.data=r[0];var a=r[0].pageConfig;c.name=r[0].name,c.url="http://localhost:8081?isEdit=true",c.showUrl="https://coco-h5.github.io/".concat(c.name,"/index.html"),n("returnConfig",{targetConfig:a,pageData:c.data,releaseStatus:r[0].releaseInfo,commonComponents:o})}));var b=function(){s((function(e){c.current=e,Pe({type:"changeIndex",data:c.current})})),Object(r["watch"])((function(){return t.editConfig.currentIndex}),(function(){c.visible=!0})),Object(r["watch"])([function(){return t.pageConfig.userSelectComponents},function(){return t.editConfig.currentIndex}],(function(){u(t.editConfig.currentIndex),d(t.editConfig.currentIndex)})),c.spinning=!1,Pe({type:"getConfig"}),t.pageConfig.components.length&&Pe({type:"setConfig",data:Object(r["toRaw"])(t.pageConfig)}),Pe({type:"changeIndex",data:t.editConfig.currentIndex})},j=function(e){Pe({type:"sortComponent",data:{op:e,index:i.current}})},m=function(){Pe({type:"copyComponent",data:i.current})},O=function(e){Pe({type:"deleteComponent",data:void 0!==e?e:i.current})},g=function(e){e.preventDefault()},v=function(e){e.preventDefault();var t=e.dataTransfer.getData("text/plain"),n=e.layerY,r=l(n);o("addComponent",{data:JSON.parse(t),index:r}),o("setDragStart",{v:!1})},h=function(e,t,n){var r=e.left,c=e.top;Pe({type:"changeIndex",data:t}),o("changeProps",Object(f["a"])(Object(f["a"])({},n),{},{x:r,y:c}))};return Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(r["toRefs"])(i)),Object(r["toRefs"])(c)),{},{initConfig:b,editState:t,changeIndex:j,copyComponent:m,deleteComponent:O,dragover_handler:g,drop_handler:v,onDrag:h})},components:{Form:Ce,Header:N,ComponentSelect:be,UndoOutlined:we["a"],RedoOutlined:Ne["a"],EyeOutlined:ye["a"],SaveOutlined:xe["a"],SettingOutlined:ke["a"],DoubleRightOutlined:Ve["a"],DoubleLeftOutlined:Se["a"],ArrowUpOutlined:_e["a"],CopyOutlined:Be["a"],DeleteOutlined:Ie["a"],ArrowDownOutlined:De["a"],LinkOutlined:Re["a"]}};n("1942"),n("b09d");Ae.render=te;var ze=Ae;function Le(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("Header"),s=Object(r["resolveComponent"])("List"),u=Object(r["resolveComponent"])("a-spin");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[Object(r["createVNode"])(i,{type:"white",class:"edit-menu"}),(Object(r["openBlock"])(),Object(r["createBlock"])(r["Suspense"],null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s)]})),fallback:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(u)]})),_:1}))])}n("99af");var Ue={class:"user-page-list"},Me={key:0,class:"empty-list"},qe=Object(r["createVNode"])("span",null," 暂无页面，快去创建吧 ",-1),Fe=Object(r["createTextVNode"])("创建页面"),Je={key:1,class:"list"},He=Object(r["createTextVNode"])("创建页面"),Ye=Object(r["createTextVNode"])("编辑"),Ke={class:"desc"},We=Object(r["createTextVNode"])(" 描述： "),$e=Object(r["createTextVNode"])("确定"),Ge=Object(r["createTextVNode"])(" 更新时间："),Qe=Object(r["createTextVNode"])(" 创建时间：");function Xe(e,t,n,o,c,a){var i=Object(r["resolveComponent"])("router-link"),s=Object(r["resolveComponent"])("a-button"),u=Object(r["resolveComponent"])("a-empty"),l=Object(r["resolveComponent"])("a-input"),d=Object(r["resolveComponent"])("a-col"),p=Object(r["resolveComponent"])("a-row"),f=Object(r["resolveComponent"])("a-input-group"),b=Object(r["resolveComponent"])("EditOutlined"),j=Object(r["resolveComponent"])("a-popover"),m=Object(r["resolveComponent"])("a-list-item-meta"),O=Object(r["resolveComponent"])("a-list-item"),g=Object(r["resolveComponent"])("a-list");return Object(r["openBlock"])(),Object(r["createBlock"])("div",Ue,[e.list.length?(Object(r["openBlock"])(),Object(r["createBlock"])("div",Je,[Object(r["createVNode"])(s,{class:"top"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{to:"/create"},{default:Object(r["withCtx"])((function(){return[He]})),_:1})]})),_:1}),Object(r["createVNode"])(g,{class:"demo-loadmore-list",loading:o.loading,"item-layout":"horizontal","data-source":e.list},{renderItem:Object(r["withCtx"])((function(n){var c=n.item;return[Object(r["createVNode"])(O,null,{actions:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{to:"/edit?id=".concat(c.id,"&pageId=").concat(c.gitConfig.id)},{default:Object(r["withCtx"])((function(){return[Ye]})),_:2},1032,["to"])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,null,{description:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",Ke,[Object(r["createVNode"])("div",null,[We,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(c.desc),1),Object(r["createVNode"])(j,{onVisibleChange:t[2]||(t[2]=function(t){!t&&(e.visible=null)}),visible:e.visible===c.id,trigger:"click"},{content:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{size:"large"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{gutter:8},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{span:18},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{value:e.desc,"onUpdate:value":t[1]||(t[1]=function(t){return e.desc=t}),style:{height:"32px"}},null,8,["value"])]})),_:1}),Object(r["createVNode"])(d,{span:5},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{type:"primary",onClick:function(){return o.saveDesc(c)}},{default:Object(r["withCtx"])((function(){return[$e]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024)]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{onClick:function(){return o.editDesc(c)},style:{cursor:"pointer"}},null,8,["onClick"])]})),_:2},1032,["visible"])]),Object(r["createVNode"])("div",null,[Ge,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(c.updatedAt),1)]),Object(r["createVNode"])("div",null,[Qe,Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(c.createdAt),1)])])]})),title:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(c.pageConfig.config.projectName),1)]})),_:2},1024)]})),_:2},1024)]})),_:1},8,["loading","data-source"])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",Me,[Object(r["createVNode"])(u,null,{description:Object(r["withCtx"])((function(){return[qe]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{type:"primary"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{to:"/create"},{default:Object(r["withCtx"])((function(){return[Fe]})),_:1})]})),_:1})]})),_:1})]))])}var Ze=n("ba98"),et=n("5a0c"),tt=n.n(et);function nt(){var e=Object(r["ref"])(!0),t=function(){return D.query()},n=function(){var n=Object(b["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:return r=n.sent,o=r.result,e.value=!1,o.forEach((function(e){e.createdAt=tt()(e.createdAt).format("YYYY-MM-DD HH:mm:ss"),e.updatedAt=tt()(e.updatedAt).format("YYYY-MM-DD HH:mm:ss")})),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{loading:e,loadFn:n}}var rt={setup:function(){return Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,o,c,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=Object(r["reactive"])({list:[],loadingMore:!1,showLoadingMore:!0,visible:null,desc:""}),n=function(){},o=nt(),c=o.loading,a=o.loadFn,e.next=5,a();case 5:return t.list=e.sent,i=function(e){t.desc=e.desc,t.visible=e.id},s=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.desc){e.next=2;break}return e.abrupt("return",S["a"].error("请填写描述信息！"));case 2:return e.next=4,D.updateOtherConfig({data:{desc:t.desc},id:n.id});case 4:return e.next=6,a();case 6:t.list=e.sent,t.visible=null,S["a"].success("更新成功！");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",Object(f["a"])(Object(f["a"])({loading:c,cancel:n},Object(r["toRefs"])(t)),{},{editDesc:i,saveDesc:s}));case 9:case"end":return e.stop()}}),e)})))()},components:{EditOutlined:Ze["a"]}};n("07be");rt.render=Xe;var ot=rt,ct={setup:function(){var e=Object(r["reactive"])({value:""}),t=function(){};return Object(f["a"])(Object(f["a"])({},Object(r["toRefs"])(e)),{},{onSearch:t})},components:{Header:N,List:ot}};n("f59e");ct.render=Le;var at=ct,it=[{path:"/",component:E},{path:"/edit",component:ze},{path:"/dashboard",component:at},{path:"/:pathMatch(.*)*",component:E}],st=Object(C["a"])({routes:it,history:Object(C["b"])()}),ut=st,lt={userInfo:{}},dt={getUserInfo:function(e){return Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,(void 0).getUserInfo();case 3:r=t.sent,n("updateUserInfo",r.result);case 5:case"end":return t.stop()}}),t)})))()}},pt={updateUserInfo:function(e,t){e.userInfo=t}},ft={namespace:!0,state:lt,actions:dt,mutations:pt},bt=(n("4de4"),function(e){return JSON.parse(JSON.stringify(e))});function jt(e,t,n){var r=null;return function(){var o=n||this,c=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(o,c)}),t)}}var mt=function(e){window.frames[0]&&window.frames[0].postMessage(e,"*")},Ot={currentCache:{},maxLength:10,length:0,endNode:null,init:function(){Ot.currentCache={},Ot.length=0},save:function(e){var t=bt(e);if(Ot.length+=1,Ot.length>20&&(Ot.endNode=Ot.endNode.next,Ot.endNode.pre=null),!this.currentCache.value)return Ot.endNode={value:t,next:null,pre:null},void(this.currentCache=Ot.endNode);if(this.currentCache.value){var n={value:t,next:null,pre:null};this.currentCache.next=n,n.pre=this.currentCache,this.currentCache=n}},undo:function(){if(this.currentCache.pre){var e=this.currentCache.pre.value;return this.currentCache=this.currentCache.pre,e}},redo:function(){if(this.currentCache.next){var e=bt(this.currentCache.next.value);return this.currentCache=this.currentCache.next,e}}};Ot.save=jt(Ot.save,200);var gt=function(e,t){if(console.log(e,t),!e.components||!e.components.length)return t;var n={userSelectComponents:t.userSelectComponents.map((function(t){var n=e.components.filter((function(e){return e.name===t.name}))[0];return n?Object(f["a"])(Object(f["a"])({},t),{},{props:Object(f["a"])(Object(f["a"])({},n.data||{}),t.props),schema:n.schema}):t})),components:t.components.map((function(t){var n=e.components.filter((function(e){return e.name===t.name}))[0];return n?Object(f["a"])(Object(f["a"])({},t),{},{props:Object(f["a"])(Object(f["a"])({},n.data||{}),t.props),schema:n.schema}):t})),page:Object(f["a"])(Object(f["a"])({},t.page),{},{props:Object(f["a"])(Object(f["a"])({},e.page.props),t.page.props),schema:e.page.schema})};return n},vt={pageConfig:{userSelectComponents:[],components:[],config:{},page:{}},editConfig:{componentConfig:{},currentIndex:null,currentComponent:null},uiConfig:{commonComponents:[],showEdit:!0,releaseStatus:"",showRelease:!1,pageData:{},dragStart:!1},defaultConfig:null,isSave:!0},ht=JSON.parse(JSON.stringify(vt)),Ct={returnConfig:function(e,t){var n=e.commit,r=e.state,o=t.targetConfig,c=t.pageData,a=t.releaseStatus,i=t.commonComponents,s=t.save,u=void 0===s||s;r.defaultConfig||a||n("initDefaultConfig",JSON.parse(JSON.stringify(o))),a||JSON.stringify(o.userSelectComponents)===JSON.stringify(r.pageConfig.userSelectComponents)&&JSON.stringify(o.page)===JSON.stringify(r.pageConfig.page)||n("updateUiConfig",{releaseStatus:{qatest:[0,0,0],"pre-release":[0,0,0],master:[0,0,0]}}),o.page=o.page||{schema:{},props:{}},n("updatePageConfig",Object(f["a"])({},gt(r.defaultConfig,o)));var l=o.currentIndex||0;if(-1===l)n("updateEditConfig",{currentComponent:{currentComponentSchema:r.pageConfig.page,component:r.pageConfig.page,type:"__page"}});else{var d=r.pageConfig.userSelectComponents[l],p=r.pageConfig.components.filter((function(e){return e.name===d.name}))[0];d&&"coco-components-loader"===d.name&&(p=r.pageConfig.remoteComponents.filter((function(e){return"".concat(e.name,".").concat(e.version)===d.config.name}))[0]),n("updateEditConfig",{currentComponent:{currentComponentSchema:p,component:d}})}u&&null!==r.currentIndex&&Ot.save(Object(f["a"])({},r.pageConfig)),n("updateUiConfig",{pageData:c||r.uiConfig.pageData,releaseStatus:a||r.uiConfig.releaseStatus,commonComponents:i||r.uiConfig.commonComponents}),n("updateEditConfig",{currentIndex:l})},reset:function(e,t){var n=e.dispatch;n("returnConfig",{targetConfig:t,save:!1}),mt({type:"reset",data:t})}},wt={initConfig:function(e){e.pageConfig={userSelectComponents:[],components:[],config:{},page:{}},e.editConfig={componentConfig:{},currentIndex:null,currentComponent:null},e.uiConfig={commonComponents:[],showEdit:!0,releaseStatus:"",showRelease:!1,pageData:{},dragStart:!1},Ot.init()},setIsSave:function(e,t){e.isSave=t},initDefaultConfig:function(e,t){e.defaultConfig=t},commonUpdate:function(e,t){e=Object(f["a"])(Object(f["a"])({},e),t)},updatePageConfig:function(e,t){e.pageConfig=Object(f["a"])(Object(f["a"])({},e.pageConfig),t)},updateEditConfig:function(e,t){e.editConfig=Object(f["a"])(Object(f["a"])({},e.editConfig),t)},updateUiConfig:function(e,t){e.uiConfig=Object(f["a"])(Object(f["a"])({},e.uiConfig),t)},setRelease:function(e,t){e.uiConfig.showRelease=t},addComponent:function(e,t){var n=t.data,r=t.index;mt({type:"addComponent",data:JSON.parse(JSON.stringify({data:n,index:r}))})},changeProps:function(e,t){mt({type:"changeProps",data:t})},setEdit:function(e,t){e.uiConfig.showEdit=t},setReleaseInfo:function(e,t){e.uiConfig.releaseStatus=t},setDragStart:function(e,t){var n=t.ev,r=t.v,o=t.data;e.uiConfig.dragStart=r,o&&n.dataTransfer.setData("text/plain",JSON.stringify(o))},changeProjectName:function(e,t){e.pageConfig.config.projectName=t.target.value,e.uiConfig.releaseStatus={qatest:[0,0,0],"pre-release":[0,0,0],master:[0,0,0]}}},Nt={namespace:!0,state:ht,actions:Ct,mutations:wt},yt=!1,xt=Object(pe["b"])({modules:{index:ft,edit:Nt},strict:yt,plugins:yt?[Object(pe["a"])()]:[]});window.addEventListener("message",(function(e){if(e.source!==window&&"loaded"!==e.data)return"returnConfig"===e.data.type?xt.dispatch(e.data.type,{targetConfig:e.data.data}):xt.commit(e.data.type,e.data.data)}));var kt=xt,Vt=n("8f0d"),St=n("5f89"),_t=n("47ce"),Bt=n("5ede"),It=n("127d");document.domain="localhost";var Dt=Object(r["createApp"])(a);Dt.use(ut),Dt.use(i["a"]),Dt.use(kt),Dt.component("FileImageOutlined",Vt["a"]),Dt.component("UploadOutlined",St["a"]),Dt.component("PlusOutlined",_t["a"]),Dt.component("BarsOutlined",Bt["a"]),Dt.component("DeleteOutlined",Ie["a"]),Dt.component("DragOutlined",It["a"]),Dt.mount("#app")},7079:function(e,t,n){"use strict";n("c4eb")},"90c0":function(e,t,n){},"9b26":function(e,t,n){},"9c77":function(e,t,n){},a779:function(e,t,n){},b09d:function(e,t,n){"use strict";n("f9cc")},b481:function(e,t,n){},c4bc:function(e,t,n){"use strict";n("90c0")},c4eb:function(e,t,n){},f59e:function(e,t,n){"use strict";n("07c2")},f5f5:function(e,t,n){"use strict";n("9c77")},f9cc:function(e,t,n){}});
//# sourceMappingURL=app.b53a4b9f.js.map